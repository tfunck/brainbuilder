
//(FixedInternalImagePixelType "float")
//(MovingInternalImagePixelType "float")
(UseDirectionCosines "false")

(Registration "MultiResolutionRegistration")
(Interpolator "LinearInterpolator")
(ResampleInterpolator "FinalBSplineInterpolator")
(Resampler "DefaultResampler")

(FixedImagePyramid "FixedSmoothingImagePyramid")
(MovingImagePyramid "MovingSmoothingImagePyramid")

(Optimizer "AdaptiveStochasticGradientDescent")
(Transform "EulerTransform")
(Metric "AdvancedMattesMutualInformation")

(AutomaticScalesEstimation "true")
(AutomaticTransformInitialization "true")
(HowToCombineTransforms "Compose")

(NumberOfHistogramBins 255)

(NumberOfResolutions 2)
(ImagePyramidSchedule 128 128 64 64 )
//(NumberOfResolutions 10)
//(ImagePyramidSchedule  128 128 90 90 64 64 32 32 16 16 8 8 4 4 2 2 1 1 )

//(MaximumNumberOfIterations 100)
(MaximumNumberOfIterations 100)
(MaximumStepLength 10.0)


(NumberOfSpatialSamples 5048)
(NewSamplesEveryIteration "true")
(ImageSampler "RandomCoordinate")
//(ImageSampler "Grid")

(BSplineInterpolationOrder 1)

(FinalBSplineInterpolationOrder 3)

//Default pixel value for pixels that come from outside the picture:
(DefaultPixelValue 0)
